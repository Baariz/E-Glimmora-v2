---
phase: 01-foundation-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - pnpm-lock.yaml
  - tsconfig.json
  - next.config.ts
  - tailwind.config.ts
  - src/app/globals.css
  - src/app/fonts.ts
  - src/app/layout.tsx
  - src/app/page.tsx
  - .eslintrc.json
  - .prettierrc
  - .env.local
  - public/fonts/.gitkeep
autonomous: true

must_haves:
  truths:
    - "Next.js 15 dev server starts without errors on localhost:3000"
    - "TypeScript strict mode catches type violations at compile time"
    - "Tailwind utility classes with custom palette (rose-500, sand-500, olive-500, teal-500, gold-500) render correct hex values"
    - "Font CSS variables (--font-miller-display, --font-avenir-lt) are declared on the html element"
    - "Font fallback stack (Georgia for serif, system-ui for sans) renders immediately while custom fonts load"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next, react, framer-motion, zod, @radix-ui"
    - path: "tailwind.config.ts"
      provides: "Design token configuration"
      contains: "rose, sand, olive, teal, gold"
    - path: "src/app/fonts.ts"
      provides: "Font loading configuration"
      contains: "millerDisplay, avenirLT"
    - path: "src/app/layout.tsx"
      provides: "Root layout with font classes"
      contains: "millerDisplay.variable, avenirLT.variable"
    - path: "src/app/globals.css"
      provides: "Global styles with Tailwind directives"
      contains: "@tailwind base"
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/fonts.ts"
      via: "import { millerDisplay, avenirLT }"
      pattern: "import.*fonts"
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "import './globals.css'"
      pattern: "import.*globals"
    - from: "tailwind.config.ts"
      to: "src/app/globals.css"
      via: "Tailwind processes config into utility classes"
      pattern: "colors.*rose"
---

<objective>
Scaffold the Next.js 15 project with TypeScript strict mode, Tailwind CSS with the luxury color palette, and font loading for Miller Display + Avenir LT Std. This is the foundation every other plan depends on.

Purpose: Establish the project structure, package dependencies, and design tokens that all subsequent plans build upon. Without this, no other plan can execute.
Output: A running Next.js 15 app with Tailwind design tokens, font configuration, and strict TypeScript.
</objective>

<execution_context>
@/Users/kavi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kavi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md (Pattern 1: Next.js 15 Setup, Pattern 2: Font Loading, Pattern 3: Tailwind Design Tokens)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js 15 project with all dependencies</name>
  <files>
    package.json
    pnpm-lock.yaml
    tsconfig.json
    next.config.ts
    .eslintrc.json
    .prettierrc
    .env.local
    public/fonts/.gitkeep
  </files>
  <action>
    1. Initialize Next.js 15 project in the CURRENT directory (not a subdirectory). Since `.planning/` and `.git/` already exist, do NOT use `create-next-app` which would create a new directory. Instead, manually initialize:

    a. Create `package.json` with:
       - name: "e-glimmora"
       - scripts: dev, build, start, lint
       - Core deps: next@15, react@19, react-dom@19, typescript
       - Animation: framer-motion@11
       - Validation: zod@3
       - State: zustand@4, @tanstack/react-query@5
       - Forms: react-hook-form@7, @hookform/resolvers
       - Icons: lucide-react
       - Radix UI: @radix-ui/react-dialog, @radix-ui/react-dropdown-menu, @radix-ui/react-accordion, @radix-ui/react-tabs, @radix-ui/react-select, @radix-ui/react-checkbox, @radix-ui/react-radio-group
       - Dev deps: typescript, @types/node, @types/react, @types/react-dom, tailwindcss, postcss, autoprefixer, prettier, eslint, eslint-config-next, eslint-config-prettier

    b. Run `pnpm install` to install all dependencies.

    c. Create `tsconfig.json` with TypeScript strict mode:
       - strict: true
       - noUncheckedIndexedAccess: true
       - target: ES2020
       - module: esnext
       - moduleResolution: bundler
       - paths: { "@/*": ["./src/*"] }
       - Include next.js plugin

    d. Create `next.config.ts` (NOT .js — use TypeScript config):
       - Enable React strict mode
       - Configure images domains (empty for now)
       - Add transpilePackages for framer-motion if needed

    e. Create `.eslintrc.json`:
       - extends: ["next/core-web-vitals", "prettier"]
       - Add rule: no-restricted-imports to prevent cross-route-group imports

    f. Create `.prettierrc`:
       - semi: false
       - singleQuote: true
       - tabWidth: 2
       - trailingComma: 'es5'
       - printWidth: 100

    g. Create `.env.local`:
       - NEXT_PUBLIC_USE_MOCK_SERVICES=true
       - NEXT_PUBLIC_APP_NAME="Élan Glimmora"

    h. Create `public/fonts/.gitkeep` as placeholder for licensed font files.
       Add a comment in the fonts directory (via a README or .gitkeep) noting that Miller Display and Avenir LT Std .woff2 files should be placed here.

    i. Create `postcss.config.mjs` with tailwindcss and autoprefixer plugins.

    IMPORTANT: Use pnpm as package manager (not npm or yarn). The research specifies pnpm.
  </action>
  <verify>
    Run `pnpm dev` and confirm the dev server starts on localhost:3000 without errors.
    Run `pnpm tsc --noEmit` and confirm TypeScript compiles without errors.
    Confirm `pnpm lint` runs without errors.
  </verify>
  <done>
    Next.js 15 dev server starts cleanly. TypeScript strict mode is active. All dependencies installed. ESLint and Prettier configured.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind design tokens and font loading</name>
  <files>
    tailwind.config.ts
    src/app/globals.css
    src/app/fonts.ts
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
    1. Create `tailwind.config.ts` with the complete luxury color palette from the research:
       - rose: 50-900 scale (primary: #B5877E at 500)
       - sand: 50-900 scale (secondary: #C4AA82 at 500)
       - olive: 50-900 scale (success: #5E6B4A at 500)
       - teal: 50-900 scale (info: #6A8E92 at 500)
       - gold: 50-900 scale (accent: #B5A24C at 500)
       - Semantic aliases: primary=#b5877e, secondary=#c4aa82, accent=#b5a24c
       - Content paths: src/pages, src/components, src/app
       - Font family extension:
         serif: ['var(--font-miller-display)', 'Georgia', 'serif']
         sans: ['var(--font-avenir-lt)', 'system-ui', '-apple-system', 'sans-serif']
       - Spacing scale: xs(0.5rem), sm(1rem), md(1.5rem), lg(2rem), xl(3rem), 2xl(4rem), 3xl(6rem)
       - Box shadow scale: sm, md, lg, xl (refined luxury shadows from research)
       - Add animation keyframes for fade-in, fade-out, slide-up, slide-down (for Radix UI data-state animations)

    2. Create `src/app/globals.css`:
       - @tailwind base, components, utilities directives
       - CSS custom properties for semantic color tokens:
         --background, --foreground, --muted, --muted-foreground, --border, --ring
       - Base typography: body uses font-sans, headings use font-serif
       - Smooth scrolling on html
       - Selection color using rose palette
       - Scrollbar styling (thin, luxury colors)
       - Tailwind @layer base for consistent defaults

    3. Create `src/app/fonts.ts`:
       - Export `millerDisplay` using next/font/local with:
         - Weights: 300 (Light), 400 (Roman), 700 (Bold) — each with normal style
         - 300 italic, 400 italic variants
         - variable: '--font-miller-display'
         - display: 'swap'
         - Paths pointing to ../public/fonts/ (files not yet present — use try/catch or conditional loading)
       - Export `avenirLT` using next/font/local with:
         - Weights: 400 (Book), 500 (Medium), 700 (Heavy) — each with normal style
         - 400 italic (BookOblique) variant
         - variable: '--font-avenir-lt'
         - display: 'swap'

       IMPORTANT: Since the actual font files are not yet provided by the client, create the fonts.ts file with the CORRECT structure but use system font fallbacks that will work immediately. Create a conditional setup:
       - Define the font config pointing to placeholder paths
       - If font files don't exist at runtime, the fallback stack (Georgia, system-ui) handles it gracefully because of display: 'swap'
       - Add a comment block at the top: "// TODO: Replace placeholder font files with licensed Miller Display and Avenir LT Std .woff2 files"

       ALTERNATIVE APPROACH (if next/font/local throws at build time when files don't exist):
       - Create minimal placeholder .woff2 files (empty/stub) OR
       - Use a conditional font loading approach with CSS variables set in globals.css that default to fallback fonts
       - The key requirement: --font-miller-display and --font-avenir-lt CSS variables must exist on the html element

    4. Create `src/app/layout.tsx`:
       - Root layout component (Server Component)
       - Import fonts from './fonts' and apply both CSS variable classes to `<html>` element
       - Set lang="en"
       - Import globals.css
       - Add metadata: title "Élan Glimmora", description about luxury lifestyle intelligence
       - Body gets `font-sans antialiased` classes

    5. Create `src/app/page.tsx`:
       - Simple placeholder page that confirms the design system is working
       - Show the 5 brand colors as swatches (bg-rose-500, bg-sand-500, bg-olive-500, bg-teal-500, bg-gold-500)
       - Show serif heading (font-serif) and sans body text (font-sans) to verify font stacks
       - Show a few spacing examples
       - This is a development verification page, not the final homepage
  </action>
  <verify>
    Run `pnpm dev` and visit localhost:3000.
    Confirm: 5 color swatches render with correct hex values (inspect element to verify).
    Confirm: Heading uses serif font stack, body uses sans font stack.
    Confirm: Tailwind custom classes (text-rose-500, bg-sand-100, etc.) all work.
    Run `pnpm build` to confirm production build succeeds.
  </verify>
  <done>
    Tailwind design tokens render correct colors. Font CSS variables declared on html. Typography falls back gracefully to Georgia/system-ui. Production build succeeds. All 5 palette colors and both font stacks are visually verifiable.
  </done>
</task>

</tasks>

<verification>
1. `pnpm dev` starts without errors
2. `pnpm build` completes without errors
3. `pnpm tsc --noEmit` passes (TypeScript strict mode active)
4. `pnpm lint` passes
5. Visit localhost:3000 — color swatches and typography render correctly
6. Inspect html element — both font CSS variables present
7. Inspect color swatches — hex values match palette spec
</verification>

<success_criteria>
- Next.js 15 app running with TypeScript strict mode, noUncheckedIndexedAccess enabled
- All 5 luxury color scales (rose, sand, olive, teal, gold) available as Tailwind utilities
- Font loading configured with CSS variables and graceful fallbacks
- ESLint, Prettier, PostCSS configured
- Production build succeeds
- Development verification page confirms design system is operational
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-01-SUMMARY.md`
</output>
